<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Invaders</title>
    <style>
        .caja {
            width: 100px;
            height: 100px;


            background-image: url(../recursos/mikublanca1.png);

            background-size: cover;

            background-position: center;
            background-repeat: no-repeat;
            position: absolute;
            bottom: 0;

            transform: translateX(-50%);

            margin-bottom: 20px;
        }

        .juego {
            height: 90vh;
            background-image: url(../recursos/mikubeam.jpg);
            background-repeat: no-repeat;
            background-size: cover;
        }
    </style>
</head>

<body class="juego">
    <div id="1" class="caja">

    </div>
    <script>
        let caja = document.getElementById(1);
        document.addEventListener("mousemove", (e) => {
            console.log("Coordenada X: " + e.clientX + " | Coordenada Y: " + e.clientY);
            caja.style.transform = `translateX(${e.clientX}px)`;
        });
    </script>

    <script>

        document.addEventListener("keydown", () => {
            if (event.code === "Space") {
               bala()
            }
 
        });

        function bala() {
                let bala = document.createElement("div");

                bala.style.width = "10px";
                bala.style.height = "15px";
                bala.style.backgroundColor = "cyan";
                bala.style.backgroundImage = "url('recursos/bala_fuego.png')";
                bala.style.position = "absolute";


                let pillarCoordenadaCaja = caja.getBoundingClientRect();

                let posicionX = pillarCoordenadaCaja.left + (pillarCoordenadaCaja.width / 2) - 3;
                let posicionY = pillarCoordenadaCaja.top;

                bala.style.left = posicionX + "px";
                bala.style.top = posicionY + "px";

                document.body.appendChild(bala);

                let velocidad = 5;

                let timer = setInterval(() => {
                    posicionY -= velocidad;
                    bala.style.top = posicionY + "px";

                    if (posicionY < -20) {
                        clearInterval(timer);
                        bala.remove();
                    }
                }, 2);
            }
    </script>
</body>

</html>

</script>
</body>

</html>